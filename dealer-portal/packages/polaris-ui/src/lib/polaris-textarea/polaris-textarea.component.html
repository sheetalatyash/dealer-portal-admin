<div [id]="id" class="d-flex flex-column">
  <!-- Textarea Label -->
  @if (label && showLabel) {
  <mat-label class="d-flex align-items-center gap-2">
    <span>{{ label }}</span>

    <!-- Info Icon -->
    @if (instructionsTooltip) {
    <polaris-icon [ui-tooltip]="instructionsTooltip" color="primary" size="xl">info</polaris-icon>
    }
  </mat-label>
  }

  <!-- Form Field -->
  <mat-form-field
    appearance="outline"
    subscriptSizing="dynamic"
    [attr.data-test-id]="testId"
    [ngClass]="[customClass, outlineColor === 'primary' ? 'outline-primary' : '']"
    (mouseenter)="emitMouseEnterEvent($event)"
    (mouseleave)="emitMouseLeaveEvent($event)"
  >
    <textarea
      matInput
      cdkTextareaAutosize
      [cdkAutosizeMinRows]="minRows"
      [cdkAutosizeMaxRows]="maxRows"
      [placeholder]="placeholder"
      [readonly]="readonly"
      [formControl]="formControl"
      [attr.maxlength]="maxLength ? maxLength : null"
      (input)="formatInput($event)"
      (blur)="trimOuterSpace($event)"
      [style.resize]="isResizable ? 'vertical' : 'none'"
    ></textarea>
  </mat-form-field>

  <!-- Error Messages -->
  @if (formControl.invalid && formControl.touched) { @for (error of errors; let index = $index; track index) {
  <mat-error [attr.data-test-id]="(testId || 'polaris-textarea-unknown') + '-error'">{{ error }}</mat-error>
  } }
</div>
